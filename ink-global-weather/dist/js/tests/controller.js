define(["controller"],function(e){var t=require("ui-toolbox"),n=function(){test("initialization of Controller",function(){var t={cities:[{name:"London",id:2643743},{name:"Manchester",id:2643123}]},n=(new e).Init(t);ok(n.theView!=null,"The Controller view should be initialized with a view.")}),asyncTest("Fetching data for two cities",function(){expect(1);var n={cities:[{name:"London",id:2643743},{name:"Manchester",id:2643123}]},r=(new e).Init(n,function(e){var n=t.getAllElements("div.city");equal(n.length,2,"The app should render two cities"),QUnit.start()})}),asyncTest("Rendering the full view of a city",function(){expect(1);var n={cities:[{name:"London",id:2643743},{name:"Manchester",id:2643123}]},r=(new e).Init(n,function(e){var n=t.getAllElements("div.city");n[1].click(),setTimeout(function(){var e=t.getElement("#coord\\.lat");equal(e.innerHTML,"53.48","The app should render latitude in full city display table"),QUnit.start()},600)})})};return{run:n}});