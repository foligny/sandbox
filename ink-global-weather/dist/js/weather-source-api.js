var g_tester=0;define(["require","ui-toolbox"],function(e){var t=e("ui-toolbox"),n=function(){return g_tester++,g_tester>1&&console.log("not singleton"),{Fetch:function(e,n){var r=this;e.length==null&&(e=[e]);var i=t.reduce(e,",",function(e){return e.id}),s="http://api.openweathermap.org/data/2.5/group?id="+i+"&units=metric&APPID=e271b63b2339a298bfbf2affdf92efbe";t.jsonp(s,function(t){if(t.list==null){console&&console.log("ERROR: API return doesn't include .list"),n&&n(!1);return}if(t.list.length==0){console&&console.log("ERROR: API returned an empty list, check for valid IDs"),n&&n(!1);return}for(var r=0;r<t.list.length;r++){var i=t.list[r],s=null;for(var o=0;o<e.length;o++)e[o].id==i.id&&(s=e[o]);if(s==null){console&&console.log("ERROR: Could not match city.id with data from API"),n&&n(!1);return}for(var u in i)s[u]=i[u];s.afterLoad!=null&&s.afterLoad()}n(!0)})}}};return n()});